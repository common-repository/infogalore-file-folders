!function(o){o(function(){o("#igf-adm-filter-folder-parent").suggest(ajaxurl+"?action=infogalore_folders_folder_lookup"),o("#igf-adm-folder-shortcode").on("click",function(){o(this).select(),document.execCommand("copy"),o("#igf-adm-folder-shortcode-hint").hide(),o("#igf-adm-folder-shortcode-copied").show()}),o("#igf-adm-add-subfolder").on("click",function(e){e.preventDefault();var a=o(this).data("parent-id"),d={};d[INFOGALORE_FOLDERS_ADMIN.ok_label]=function(){var e=o("#igf-adm-folder-name").val().trim();if(""!==e){var d={action:"infogalore_folders_create_folder",parent_id:a,title:e,nonce:o("#igf-adm-subfolders-nonce").val()};o("#igf-adm-folder-name").val(""),o.ajax({type:"POST",url:ajaxurl,data:d,success:function(o){o&&(window.location.href=o)}}),o(this).dialog("close")}},d[INFOGALORE_FOLDERS_ADMIN.cancel_label]=function(){o("#igf-adm-folder-name").val(""),o(this).dialog("close")},o("#igf-adm-add-folder-dialog").dialog({autoOpen:!1,title:INFOGALORE_FOLDERS_ADMIN.prompt_label,modal:!0,buttons:d}),o("#igf-adm-add-folder-dialog").dialog("open")}),o("#igf-adm-subfolders").sortable({items:"li",handle:".igf-adm-subfolder-icon",stop:function(){var e=[];o("#igf-adm-subfolders li").each(function(){e.push(o(this).data("id"))});var a={action:"infogalore_folders_sort_folders",parent_id:o("#igf-adm-subfolders").data("parent-id"),sorted:e.join(","),nonce:o("#igf-adm-subfolders-nonce").val()};o("#igf-adm-subfolders-loading").show(),o.ajax({type:"POST",url:ajaxurl,data:a,success:function(e){o("#igf-adm-subfolders-loading").hide()}})}}),o("#igf-adm-folder-files tbody").on("mouseenter",".igf-adm-shortcode input",function(e){var a=o(this).val()+"<br>";a+=INFOGALORE_FOLDERS_ADMIN.file_shortcode_tooltip,o('<p class="igf-adm-shortcode-tooltip"></p>').html(a).appendTo("body").fadeIn("slow")}).on("mouseleave",".igf-adm-shortcode input",function(e){o(".igf-adm-shortcode-tooltip").remove()}).on("mousemove",".igf-adm-shortcode input",function(e){var a=e.pageX+20,d=e.pageY+10;o(".igf-adm-shortcode-tooltip").css({top:d,left:a})}).on("click",".igf-adm-shortcode input",function(e){e.preventDefault(),o(this).select(),document.execCommand("copy"),o('<div class="igf-adm-file-shortcode-copied">'+INFOGALORE_FOLDERS_ADMIN.file_shortcode_copied+"</div>").appendTo(o(this).parent()).fadeIn(100,function(){o(this).fadeOut(2e3)})})})}(jQuery);